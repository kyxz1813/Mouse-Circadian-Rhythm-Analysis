<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mouse Circadian Rhythm Analysis</title>
  
  <!-- D3.js -->
  <script src="https://d3js.org/d3.v7.min.js"></script>

  <!-- pako (for decompressing .gz files) -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pako/2.0.4/pako.min.js"></script>

  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <h2 class="page-title">Mouse Circadian Rhythm Analysis</h2>
    
    <div class="controls">
      <button onclick="toggleGender()">Gender: Female</button>
      <button onclick="toggleMetric()">Metric: Activity</button>
      <div class="search-container">
        <input type="text" id="mouseSearch" placeholder="Search Mouse ID...">
        <button onclick="resetSearch()">Reset</button>
      </div>
    </div>

    <div class="legend"></div>

    <div class="clock-chart"></div>
    <br>
    <button id="explanation-btn">Explain Graph</button>
    
  </div>
  <!-- Explanation overlay (initially hidden) -->
  <div id="explanation-overlay" class="hidden">
    <h3>Motivation & Target Audience</h3>
    <p>Our interactive data visualization deploys a radial graph to explore the circadian rhythms of mice, aiming to answer two key questions:</p>
      <ul>
        <li>What is the relationship between temperature and activity?</li>
        <li>How does gender influence this relationship?</li>
      </ul>
    <p>Understanding circadian rhythms is crucial in biological research, as they impact metabolism, sleep cycles, and behavioral patterns. Our project is designed for researchers, students, and biologists who study circadian biology, helping them visualize and compare hourly temperature and activity trends across male and female mice.</p>
    
    <h3>Dataset</h3>
    <p>Our Mouse data covers 2 weeks of minute level activity and core body temperature in males and females. Light is on a 12-on/12-off controlled square wave so that daily rhythms are aligned. Every 4 days females display “estrus” which is associated with ovulation, and a longer/hotter active period.</p>

    <h3>Design Rationale</h3>
    <p>Since time is cyclical, we chose a radial (polar) chart to represent the 24-hour rhythm of mouse activity and temperature. We visualize each of the four mouse data CSV files into four graphs of hourly activity and hourly temperature of the female and male mice. 
    Each mouse is assigned a unique color, making it easier to distinguish between them. We added several interactive features to enhance usability:</p>
    <ul>
      <li>A button to switch between male and female datasets for easy comparison.</li>
      <li>A button to toggle between activity and temperature to focus on specific metrics.</li>
      <li>A search bar to quickly locate a specific mouse.</li>
      <li>Clickable mouse IDs that highlight a single observation over time.</li>
    </ul>

</div>

  <script src="script.js"></script>

</body>
</html>
